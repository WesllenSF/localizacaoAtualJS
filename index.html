<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Perfil do Anunciante</title>

  <!-- Bootstrap e Ícones -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
  <link rel="stylesheet" href="css/index.css">
  <link rel="stylesheet" href="css/comerciante.css">



</head>

<body>
  <header class="visually-hidden-focusable">
    <a href="#conteudo-principal" class="skip-link btn btn-outline-primary">Pular para o conteúdo principal</a>
  </header>

  <main id="conteudo-principal" class="container" role="main">

    <!-- Perfil do Anunciante -->
    <section aria-labelledby="titulo-perfil">
      <div class="profile-header text-center mt-4 mb-4">
        <img src="./public/assets/img/logoFaustino.jpg" class="logo_comercio rounded-circle"
          alt="Logotipo da loja Faustino Conveniência e Delivery" width="150" height="150">
        <h1 id="titulo-perfil" class="mt-3 fs-3 fw-bold">Faustino Conveniência e Delivery</h1>

        <!-- Avaliação com descrição acessível -->
        <div class="stars" role="img" aria-label="Avaliação: 4,5 de 5 estrelas">
          <i class="bi bi-star-fill text-warning" aria-hidden="true"></i>
          <i class="bi bi-star-fill text-warning" aria-hidden="true"></i>
          <i class="bi bi-star-fill text-warning" aria-hidden="true"></i>
          <i class="bi bi-star-fill text-warning" aria-hidden="true"></i>
          <i class="bi bi-star-half text-warning" aria-hidden="true"></i>
        </div>

        <p class="text-muted mt-2">
          Horário: Segunda a Sexta 10h às 22h e Sábados até 21h.<br>
          Rua das Flores, 123 - Centro
        </p>
      </div>
    </section>

    <!-- Sobre o Anunciante -->
    <section aria-labelledby="titulo-sobre" class="mb-4">
      <h2 id="titulo-sobre" class="fs-4">Sobre</h2>
      <p>
        A <strong>Faustino Conveniência e Delivery</strong> oferece uma grande variedade de produtos
        para o seu dia a dia. Trabalhamos com alimentos, bebidas, produtos de limpeza e utilidades do lar,
        sempre com praticidade e bom atendimento.
      </p>
    </section>

    <!-- Mapa de Localização -->
    <section aria-labelledby="titulo-localizacao" class="mb-4">
      <h2 id="titulo-localizacao" class="fs-4">Localização do Comércio</h2>
      <div class="ratio ratio-16x9 mt-3 mb-3">
        <iframe src="https://www.google.com/maps?q=Rua+das+Flores,+123,+itanhem,+São+Paulo&output=embed" allowfullscreen
          loading="lazy" title="Mapa de localização da Faustino Conveniência e Delivery"></iframe>
      </div>







      <div class="text-center mt-3">
        <button class="btn btn-success" onclick="abrirRota()">Abrir rota no Google Maps</button>
      </div>


      
      <!--  localização do comercio em lat e long -24.149714, -46.777986 -->

      <script>
        const lat_dest = <?= json_encode($data['lat_dest']) ?>;
        const lng_dest = <?= json_encode($data['lng_dest']) ?>;

        function abrirRota() {

          // abre uma aba imediatamente (isso evita bloqueio de popup)
          let novaAba = window.open('', '_blank');

          navigator.geolocation.getCurrentPosition(function (pos) {

            let lat_user = pos.coords.latitude;
            let lng_user = pos.coords.longitude;

            let url = "https://www.google.com/maps/dir/?api=1&origin="
              + lat_user + "," + lng_user
              + "&destination=" + lat_dest + "," + lng_dest;

            // agora muda o URL da aba já criada
            novaAba.location.href = url;

          }, function (error) {
            novaAba.document.write("Não foi possível obter sua localização. Permita o GPS.");
          });
        }
      </script>










    </section>

    <!-- Lista de Produtos e Serviços -->
    <section aria-labelledby="titulo-produtos">
      <h2 id="titulo-produtos" class="fs-4">Produtos e Serviços</h2>

      <div class="row g-3 mt-2">
        <div class="col-6 col-md-4">
          <div class="card service-card h-100" role="article">
            <img src="./public/assets/img/frutas.jpg" class="card-img-top" alt="Cesta com frutas frescas">
            <div class="card-body text-center">
              <h3 class="card-title fs-6">Frutas Frescas</h3>
              <p class="text-muted mb-0">A partir de R$ 2,99/kg</p>
            </div>
          </div>
        </div>

        <div class="col-6 col-md-4">
          <div class="card service-card h-100" role="article">
            <img src="./public/assets/img/bebidas.jpg" class="card-img-top" alt="Bebidas geladas em garrafas e latas">
            <div class="card-body text-center">
              <h3 class="card-title fs-6">Bebidas Geladas</h3>
              <p class="text-muted mb-0">A partir de R$ 5,00 unidade</p>
            </div>
          </div>
        </div>

        <div class="col-6 col-md-4">
          <div class="card service-card h-100" role="article">
            <img src="./public/assets/img/produtoslimpeza.jpg" class="card-img-top" alt="Produtos variados de limpeza">
            <div class="card-body text-center">
              <h3 class="card-title fs-6">Produtos de Limpeza</h3>
              <p class="text-muted mb-0">A partir de R$ 5,00 unidade</p>
            </div>
          </div>
        </div>
      </div>
    </section>

  </main>

  <br><br><br><br>


  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>